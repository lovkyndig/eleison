import{T as pt,H as ht}from"./components.6ebd9158.js";import{_ as be}from"./IconCustom.vue.a1bc1845.js";import{_ as ot}from"./nuxt-link.b1a18705.js";import{a as xe,s as Ve,r as D,u as t,o as _,e as j,i as S,f as c,t as ne,l as G,b as ye,p as K,D as ie,aa as ce,C as Ue,h as A,c as se,j as de,F as Ce,k as $e,v as pe,T as ke,w as He,ab as Ke,m as Le,x as gt,a9 as Ee,ac as De,O as ft,a6 as Xe,L as nt,M as at,ad as _e,Y as rt,K as lt,ae as me,$ as st,af as mt,a8 as vt}from"./entry.89ebc114.js";import{_ as xt}from"./client-only.25531463.js";import bt from"./ContentRenderer.ba181370.js";import{_ as Se}from"./_plugin-vue_export-helper.c27b6911.js";import{s as ve,b as yt,d as _t,i as Ze,T as We,c as Ne}from"./transform.3f90e15a.js";import{s as wt}from"./array.169b76cb.js";import{w as kt,c as Qe}from"./path.53f90ab3.js";import{x as Ct,y as $t}from"./point.e88f89db.js";import{d as it,u as Je,a as Ht,c as zt,b as Tt,e as Pt}from"./states.a590cbcf.js";import{u as ut}from"./asyncData.ede7125b.js";import"./ContentRendererMarkdown.ee1f6d26.js";import"./index.a6ef77ff.js";function Lt(o){let e;for(;e=o.sourceEvent;)o=e;return o}function we(o,e){if(o=Lt(o),e===void 0&&(e=o.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=o.clientX,n.y=o.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[o.clientX-i.left-e.clientLeft,o.clientY-i.top-e.clientTop]}}return[o.pageX,o.pageY]}const Fe={capture:!0,passive:!1};function qe(o){o.preventDefault(),o.stopImmediatePropagation()}function Mt(o){var e=o.document.documentElement,r=ve(o).on("dragstart.drag",qe,Fe);"onselectstart"in e?r.on("selectstart.drag",qe,Fe):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function St(o,e){var r=o.document.documentElement,n=ve(o).on("dragstart.drag",null);e&&(n.on("click.drag",qe,Fe),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var It=1e-12;function et(o){return((o=Math.exp(o))+1/o)/2}function At(o){return((o=Math.exp(o))-1/o)/2}function Bt(o){return((o=Math.exp(2*o))-1)/(o+1)}const Dt=function o(e,r,n){function i(u,d){var v=u[0],$=u[1],l=u[2],p=d[0],k=d[1],x=d[2],C=p-v,a=k-$,E=C*C+a*a,T,f;if(E<It)f=Math.log(x/l)/e,T=function(U){return[v+U*C,$+U*a,l*Math.exp(e*U*f)]};else{var I=Math.sqrt(E),X=(x*x-l*l+n*E)/(2*l*r*I),W=(x*x-l*l-n*E)/(2*x*r*I),R=Math.log(Math.sqrt(X*X+1)-X),N=Math.log(Math.sqrt(W*W+1)-W);f=(N-R)/e,T=function(U){var Q=U*f,M=et(R),z=l/(r*I)*(M*Bt(e*Q+R)-At(R));return[v+z*C,$+z*a,l*M/et(e*Q+R)]}}return T.duration=f*1e3*e/Math.SQRT2,T}return i.rho=function(u){var d=Math.max(.001,+u),v=d*d,$=v*v;return o(d,v,$)},i}(Math.SQRT2,2,4);function jt(o){var e=0,r=o.children,n=r&&r.length;if(!n)e=1;else for(;--n>=0;)e+=r[n].value;o.value=e}function Et(){return this.eachAfter(jt)}function Wt(o,e){let r=-1;for(const n of this)o.call(e,n,++r,this);return this}function Nt(o,e){for(var r=this,n=[r],i,u,d=-1;r=n.pop();)if(o.call(e,r,++d,this),i=r.children)for(u=i.length-1;u>=0;--u)n.push(i[u]);return this}function Rt(o,e){for(var r=this,n=[r],i=[],u,d,v,$=-1;r=n.pop();)if(i.push(r),u=r.children)for(d=0,v=u.length;d<v;++d)n.push(u[d]);for(;r=i.pop();)o.call(e,r,++$,this);return this}function Ot(o,e){let r=-1;for(const n of this)if(o.call(e,n,++r,this))return n}function Yt(o){return this.eachAfter(function(e){for(var r=+o(e.data)||0,n=e.children,i=n&&n.length;--i>=0;)r+=n[i].value;e.value=r})}function Xt(o){return this.eachBefore(function(e){e.children&&e.children.sort(o)})}function Ft(o){for(var e=this,r=qt(e,o),n=[e];e!==r;)e=e.parent,n.push(e);for(var i=n.length;o!==r;)n.splice(i,0,o),o=o.parent;return n}function qt(o,e){if(o===e)return o;var r=o.ancestors(),n=e.ancestors(),i=null;for(o=r.pop(),e=n.pop();o===e;)i=o,o=r.pop(),e=n.pop();return i}function Vt(){for(var o=this,e=[o];o=o.parent;)e.push(o);return e}function Ut(){return Array.from(this)}function Zt(){var o=[];return this.eachBefore(function(e){e.children||o.push(e)}),o}function Gt(){var o=this,e=[];return o.each(function(r){r!==o&&e.push({source:r.parent,target:r})}),e}function*Kt(){var o=this,e,r=[o],n,i,u;do for(e=r.reverse(),r=[];o=e.pop();)if(yield o,n=o.children)for(i=0,u=n.length;i<u;++i)r.push(n[i]);while(r.length)}function Ge(o,e){o instanceof Map?(o=[void 0,o],e===void 0&&(e=eo)):e===void 0&&(e=Jt);for(var r=new Me(o),n,i=[r],u,d,v,$;n=i.pop();)if((d=e(n.data))&&($=(d=Array.from(d)).length))for(n.children=d,v=$-1;v>=0;--v)i.push(u=d[v]=new Me(d[v])),u.parent=n,u.depth=n.depth+1;return r.eachBefore(oo)}function Qt(){return Ge(this).eachBefore(to)}function Jt(o){return o.children}function eo(o){return Array.isArray(o)?o[1]:null}function to(o){o.data.value!==void 0&&(o.value=o.data.value),o.data=o.data.data}function oo(o){var e=0;do o.height=e;while((o=o.parent)&&o.height<++e)}function Me(o){this.data=o,this.depth=this.height=0,this.parent=null}Me.prototype=Ge.prototype={constructor:Me,count:Et,each:Wt,eachAfter:Rt,eachBefore:Nt,find:Ot,sum:Yt,sort:Xt,path:Ft,ancestors:Vt,descendants:Ut,leaves:Zt,links:Gt,copy:Qt,[Symbol.iterator]:Kt};function no(o,e){return o.parent===e.parent?1:2}function Re(o){var e=o.children;return e?e[0]:o.t}function Oe(o){var e=o.children;return e?e[e.length-1]:o.t}function ao(o,e,r){var n=r/(e.i-o.i);e.c-=n,e.s+=r,o.c+=n,e.z+=r,e.m+=r}function ro(o){for(var e=0,r=0,n=o.children,i=n.length,u;--i>=0;)u=n[i],u.z+=e,u.m+=e,e+=u.s+(r+=u.c)}function lo(o,e,r){return o.a.parent===e.parent?o.a:r}function je(o,e){this._=o,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}je.prototype=Object.create(Me.prototype);function so(o){for(var e=new je(o,0),r,n=[e],i,u,d,v;r=n.pop();)if(u=r._.children)for(r.children=new Array(v=u.length),d=v-1;d>=0;--d)n.push(i=r.children[d]=new je(u[d],d)),i.parent=r;return(e.parent=new je(null,0)).children=[e],e}function io(){var o=no,e=1,r=1,n=null;function i(l){var p=so(l);if(p.eachAfter(u),p.parent.m=-p.z,p.eachBefore(d),n)l.eachBefore($);else{var k=l,x=l,C=l;l.eachBefore(function(I){I.x<k.x&&(k=I),I.x>x.x&&(x=I),I.depth>C.depth&&(C=I)});var a=k===x?1:o(k,x)/2,E=a-k.x,T=e/(x.x+a+E),f=r/(C.depth||1);l.eachBefore(function(I){I.x=(I.x+E)*T,I.y=I.depth*f})}return l}function u(l){var p=l.children,k=l.parent.children,x=l.i?k[l.i-1]:null;if(p){ro(l);var C=(p[0].z+p[p.length-1].z)/2;x?(l.z=x.z+o(l._,x._),l.m=l.z-C):l.z=C}else x&&(l.z=x.z+o(l._,x._));l.parent.A=v(l,x,l.parent.A||k[0])}function d(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function v(l,p,k){if(p){for(var x=l,C=l,a=p,E=x.parent.children[0],T=x.m,f=C.m,I=a.m,X=E.m,W;a=Oe(a),x=Re(x),a&&x;)E=Re(E),C=Oe(C),C.a=l,W=a.z+I-x.z-T+o(a._,x._),W>0&&(ao(lo(a,l,k),l,W),T+=W,f+=W),I+=a.m,T+=x.m,X+=E.m,f+=C.m;a&&!Oe(C)&&(C.t=a,C.m+=I-f),x&&!Re(E)&&(E.t=x,E.m+=T-X,k=l)}return k}function $(l){l.x*=e,l.y=l.depth*r}return i.separation=function(l){return arguments.length?(o=l,i):o},i.size=function(l){return arguments.length?(n=!1,e=+l[0],r=+l[1],i):n?null:[e,r]},i.nodeSize=function(l){return arguments.length?(n=!0,e=+l[0],r=+l[1],i):n?[e,r]:null},i}function uo(o){return o.source}function co(o){return o.target}function po(o){let e=uo,r=co,n=Ct,i=$t,u=null,d=null,v=kt($);function $(){let l;const p=wt.call(arguments),k=e.apply(this,p),x=r.apply(this,p);if(u==null&&(d=o(l=v())),d.lineStart(),p[0]=k,d.point(+n.apply(this,p),+i.apply(this,p)),p[0]=x,d.point(+n.apply(this,p),+i.apply(this,p)),d.lineEnd(),l)return d=null,l+""||null}return $.source=function(l){return arguments.length?(e=l,$):e},$.target=function(l){return arguments.length?(r=l,$):r},$.x=function(l){return arguments.length?(n=typeof l=="function"?l:Qe(+l),$):n},$.y=function(l){return arguments.length?(i=typeof l=="function"?l:Qe(+l),$):i},$.context=function(l){return arguments.length?(l==null?u=d=null:d=o(u=l),$):u},$}function ho(){return po(yt)}const Be=o=>()=>o;function go(o,{sourceEvent:e,target:r,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:o,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function Ye(o){o.stopImmediatePropagation()}function Pe(o){o.preventDefault(),o.stopImmediatePropagation()}function fo(o){return(!o.ctrlKey||o.type==="wheel")&&!o.button}function mo(){var o=this;return o instanceof SVGElement?(o=o.ownerSVGElement||o,o.hasAttribute("viewBox")?(o=o.viewBox.baseVal,[[o.x,o.y],[o.x+o.width,o.y+o.height]]):[[0,0],[o.width.baseVal.value,o.height.baseVal.value]]):[[0,0],[o.clientWidth,o.clientHeight]]}function tt(){return this.__zoom||Ze}function vo(o){return-o.deltaY*(o.deltaMode===1?.05:o.deltaMode?1:.002)*(o.ctrlKey?10:1)}function xo(){return navigator.maxTouchPoints||"ontouchstart"in this}function bo(o,e,r){var n=o.invertX(e[0][0])-r[0][0],i=o.invertX(e[1][0])-r[1][0],u=o.invertY(e[0][1])-r[0][1],d=o.invertY(e[1][1])-r[1][1];return o.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),d>u?(u+d)/2:Math.min(0,u)||Math.max(0,d))}function yo(){var o=fo,e=mo,r=bo,n=vo,i=xo,u=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],v=250,$=Dt,l=_t("start","zoom","end"),p,k,x,C=500,a=150,E=0,T=10;function f(s){s.property("__zoom",tt).on("wheel.zoom",Q,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",ae).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",re).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}f.transform=function(s,w,h,g){var y=s.selection?s.selection():s;y.property("__zoom",tt),s!==y?R(s,w,h,g):y.interrupt().each(function(){N(this,arguments).event(g).start().zoom(null,typeof w=="function"?w.apply(this,arguments):w).end()})},f.scaleBy=function(s,w,h,g){f.scaleTo(s,function(){var y=this.__zoom.k,P=typeof w=="function"?w.apply(this,arguments):w;return y*P},h,g)},f.scaleTo=function(s,w,h,g){f.transform(s,function(){var y=e.apply(this,arguments),P=this.__zoom,m=h==null?W(y):typeof h=="function"?h.apply(this,arguments):h,O=P.invert(m),V=typeof w=="function"?w.apply(this,arguments):w;return r(X(I(P,V),m,O),y,d)},h,g)},f.translateBy=function(s,w,h,g){f.transform(s,function(){return r(this.__zoom.translate(typeof w=="function"?w.apply(this,arguments):w,typeof h=="function"?h.apply(this,arguments):h),e.apply(this,arguments),d)},null,g)},f.translateTo=function(s,w,h,g,y){f.transform(s,function(){var P=e.apply(this,arguments),m=this.__zoom,O=g==null?W(P):typeof g=="function"?g.apply(this,arguments):g;return r(Ze.translate(O[0],O[1]).scale(m.k).translate(typeof w=="function"?-w.apply(this,arguments):-w,typeof h=="function"?-h.apply(this,arguments):-h),P,d)},g,y)};function I(s,w){return w=Math.max(u[0],Math.min(u[1],w)),w===s.k?s:new We(w,s.x,s.y)}function X(s,w,h){var g=w[0]-h[0]*s.k,y=w[1]-h[1]*s.k;return g===s.x&&y===s.y?s:new We(s.k,g,y)}function W(s){return[(+s[0][0]+ +s[1][0])/2,(+s[0][1]+ +s[1][1])/2]}function R(s,w,h,g){s.on("start.zoom",function(){N(this,arguments).event(g).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(g).end()}).tween("zoom",function(){var y=this,P=arguments,m=N(y,P).event(g),O=e.apply(y,P),V=h==null?W(O):typeof h=="function"?h.apply(y,P):h,ue=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),ee=y.__zoom,Z=typeof w=="function"?w.apply(y,P):w,J=$(ee.invert(V).concat(ue/ee.k),Z.invert(V).concat(ue/Z.k));return function(b){if(b===1)b=Z;else{var H=J(b),Y=ue/H[2];b=new We(Y,V[0]-H[0]*Y,V[1]-H[1]*Y)}m.zoom(null,b)}})}function N(s,w,h){return!h&&s.__zooming||new U(s,w)}function U(s,w){this.that=s,this.args=w,this.active=0,this.sourceEvent=null,this.extent=e.apply(s,w),this.taps=0}U.prototype={event:function(s){return s&&(this.sourceEvent=s),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(s,w){return this.mouse&&s!=="mouse"&&(this.mouse[1]=w.invert(this.mouse[0])),this.touch0&&s!=="touch"&&(this.touch0[1]=w.invert(this.touch0[0])),this.touch1&&s!=="touch"&&(this.touch1[1]=w.invert(this.touch1[0])),this.that.__zoom=w,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(s){var w=ve(this.that).datum();l.call(s,this.that,new go(s,{sourceEvent:this.sourceEvent,target:f,type:s,transform:this.that.__zoom,dispatch:l}),w)}};function Q(s,...w){if(!o.apply(this,arguments))return;var h=N(this,w).event(s),g=this.__zoom,y=Math.max(u[0],Math.min(u[1],g.k*Math.pow(2,n.apply(this,arguments)))),P=we(s);if(h.wheel)(h.mouse[0][0]!==P[0]||h.mouse[0][1]!==P[1])&&(h.mouse[1]=g.invert(h.mouse[0]=P)),clearTimeout(h.wheel);else{if(g.k===y)return;h.mouse=[P,g.invert(P)],Ne(this),h.start()}Pe(s),h.wheel=setTimeout(m,a),h.zoom("mouse",r(X(I(g,y),h.mouse[0],h.mouse[1]),h.extent,d));function m(){h.wheel=null,h.end()}}function M(s,...w){if(x||!o.apply(this,arguments))return;var h=s.currentTarget,g=N(this,w,!0).event(s),y=ve(s.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",ue,!0),P=we(s,h),m=s.clientX,O=s.clientY;Mt(s.view),Ye(s),g.mouse=[P,this.__zoom.invert(P)],Ne(this),g.start();function V(ee){if(Pe(ee),!g.moved){var Z=ee.clientX-m,J=ee.clientY-O;g.moved=Z*Z+J*J>E}g.event(ee).zoom("mouse",r(X(g.that.__zoom,g.mouse[0]=we(ee,h),g.mouse[1]),g.extent,d))}function ue(ee){y.on("mousemove.zoom mouseup.zoom",null),St(ee.view,g.moved),Pe(ee),g.event(ee).end()}}function z(s,...w){if(o.apply(this,arguments)){var h=this.__zoom,g=we(s.changedTouches?s.changedTouches[0]:s,this),y=h.invert(g),P=h.k*(s.shiftKey?.5:2),m=r(X(I(h,P),g,y),e.apply(this,w),d);Pe(s),v>0?ve(this).transition().duration(v).call(R,m,g,s):ve(this).call(f.transform,m,g,s)}}function ae(s,...w){if(o.apply(this,arguments)){var h=s.touches,g=h.length,y=N(this,w,s.changedTouches.length===g).event(s),P,m,O,V;for(Ye(s),m=0;m<g;++m)O=h[m],V=we(O,this),V=[V,this.__zoom.invert(V),O.identifier],y.touch0?!y.touch1&&y.touch0[2]!==V[2]&&(y.touch1=V,y.taps=0):(y.touch0=V,P=!0,y.taps=1+!!p);p&&(p=clearTimeout(p)),P&&(y.taps<2&&(k=V[0],p=setTimeout(function(){p=null},C)),Ne(this),y.start())}}function F(s,...w){if(this.__zooming){var h=N(this,w).event(s),g=s.changedTouches,y=g.length,P,m,O,V;for(Pe(s),P=0;P<y;++P)m=g[P],O=we(m,this),h.touch0&&h.touch0[2]===m.identifier?h.touch0[0]=O:h.touch1&&h.touch1[2]===m.identifier&&(h.touch1[0]=O);if(m=h.that.__zoom,h.touch1){var ue=h.touch0[0],ee=h.touch0[1],Z=h.touch1[0],J=h.touch1[1],b=(b=Z[0]-ue[0])*b+(b=Z[1]-ue[1])*b,H=(H=J[0]-ee[0])*H+(H=J[1]-ee[1])*H;m=I(m,Math.sqrt(b/H)),O=[(ue[0]+Z[0])/2,(ue[1]+Z[1])/2],V=[(ee[0]+J[0])/2,(ee[1]+J[1])/2]}else if(h.touch0)O=h.touch0[0],V=h.touch0[1];else return;h.zoom("touch",r(X(m,O,V),h.extent,d))}}function re(s,...w){if(this.__zooming){var h=N(this,w).event(s),g=s.changedTouches,y=g.length,P,m;for(Ye(s),x&&clearTimeout(x),x=setTimeout(function(){x=null},C),P=0;P<y;++P)m=g[P],h.touch0&&h.touch0[2]===m.identifier?delete h.touch0:h.touch1&&h.touch1[2]===m.identifier&&delete h.touch1;if(h.touch1&&!h.touch0&&(h.touch0=h.touch1,delete h.touch1),h.touch0)h.touch0[1]=this.__zoom.invert(h.touch0[0]);else if(h.end(),h.taps===2&&(m=we(m,this),Math.hypot(k[0]-m[0],k[1]-m[1])<T)){var O=ve(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return f.wheelDelta=function(s){return arguments.length?(n=typeof s=="function"?s:Be(+s),f):n},f.filter=function(s){return arguments.length?(o=typeof s=="function"?s:Be(!!s),f):o},f.touchable=function(s){return arguments.length?(i=typeof s=="function"?s:Be(!!s),f):i},f.extent=function(s){return arguments.length?(e=typeof s=="function"?s:Be([[+s[0][0],+s[0][1]],[+s[1][0],+s[1][1]]]),f):e},f.scaleExtent=function(s){return arguments.length?(u[0]=+s[0],u[1]=+s[1],f):[u[0],u[1]]},f.translateExtent=function(s){return arguments.length?(d[0][0]=+s[0][0],d[1][0]=+s[1][0],d[0][1]=+s[0][1],d[1][1]=+s[1][1],f):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},f.constrain=function(s){return arguments.length?(r=s,f):r},f.duration=function(s){return arguments.length?(v=+s,f):v},f.interpolate=function(s){return arguments.length?($=s,f):$},f.on=function(){var s=l.on.apply(l,arguments);return s===l?f:s},f.clickDistance=function(s){return arguments.length?(E=(s=+s)*s,f):Math.sqrt(E)},f.tapDistance=function(s){return arguments.length?(T=+s,f):T},f}const _o={key:0,class:"w-fit mx-auto mb-2 px-2 py-1 flex items-center gap-1 text-xs text-red-300 hover:text-red-500 bg-red-50 hover:bg-red-100 rounded transition-colors duration-30"},wo={class:"text-center"},ko=xe({__name:"OutdatedWarning",props:{date:null,type:null},setup(o){const e=o,n=Ve().basic.articlePage.outdated.threshold||30,i=new Date,u=new Date(e.date),d=Math.floor((i.getTime()-u.getTime())/(1e3*60*60*24)),v=D(!1);return d>n&&(v.value=!0),($,l)=>{const p=be;return t(v)?(_(),j("div",_o,[S(p,{name:"bi:exclamation-triangle-fill",class:"shrink-0 w-4 h-4"}),c("p",wo,ne(t(d))+" day(s) have passed since this article "+ne(e.type)+" and it may be outdated ",1)])):G("",!0)}}}),Co=c("div",{class:"mx-auto font-bold"},[c("p",null,"Article is empty")],-1),$o=xe({__name:"MarkdownPostContent",props:{data:null},setup(o){const e=o,r=D(null),n=D(null),i=(u,d,v)=>{u.forEach($=>{$.addEventListener("dblclick",l=>{const p=l.currentTarget;p.style.borderColor="#c084fc";const k=p.querySelector("annotation");if(k&&k.textContent){const x=d+k.textContent+v;n.value&&n.value.writeText(x).then(()=>{p.style.borderColor="#4ade80";const C=setTimeout(()=>{p.style.borderColor="transparent",clearTimeout(C)},800)}).catch(()=>{p.style.borderColor="#f87171";const C=setTimeout(()=>{p.style.borderColor="transparent",clearTimeout(C)},800)})}else{p.style.borderColor="#f87171";const x=setTimeout(()=>{p.style.borderColor="transparent",clearTimeout(x)},800)}})})};return ye(()=>{if(n.value=navigator.clipboard,r.value&&n.value){const u=r.value.querySelectorAll(".math-inline"),d=r.value.querySelectorAll(".math-display");u.length>0&&i(u,"$","$"),d.length>0&&i(d,`$$
`,`
$$`)}}),(u,d)=>{const v=bt;return _(),j("div",{ref_key:"articleContainerDOM",ref:r,"data-pagefind-body":""},[S(v,{value:e.data,class:"markdown-post-content-container selection:text-white selection:bg-purple-400"},{empty:K(()=>[Co]),_:1},8,["value"])],512)}}});const Ho={class:"shrink-0 px-2 flex items-center"},zo=["disabled"],To={key:1,class:"w-3.5 h-3.5"},Po=["href"],ct=xe({__name:"ListCatalogItem",props:{item:null,depth:null},setup(o){const e=o,r=ie("catalogType"),n={2:{withChildren:"bg-purple-500",withoutChildren:"bg-purple-200"},3:{withChildren:"bg-red-500",withoutChildren:"bg-red-200"},4:{withChildren:"bg-green-500",withoutChildren:"bg-green-200"},5:{withChildren:"bg-blue-500",withoutChildren:"bg-blue-200"},6:{withChildren:"bg-gray-500",withoutChildren:"bg-gray-200"}},i={2:{normal:"text-purple-500",hover:"hover:text-purple-500"},3:{normal:"text-red-500",hover:"hover:text-red-500"},4:{normal:"text-green-500",hover:"hover:text-green-500"},5:{normal:"text-blue-500",hover:"hover:text-blue-500"},6:{normal:"text-gray-500",hover:"hover:text-gray-500"}},u={2:"decoration-purple-500",3:"decoration-red-500",4:"decoration-green-500",5:"decoration-blue-500",6:"decoration-gray-500"},d={2:"hover:bg-purple-100",3:"hover:bg-red-100",4:"hover:bg-green-100",5:"hover:bg-blue-100",6:"hover:bg-gray-100"},v={2:{active:"border-purple-500",expand:"border-purple-300",collapse:"border-purple-100"},3:{active:"border-red-500",expand:"border-red-300",collapse:"border-red-100"},4:{active:"border-green-500",expand:"border-green-300",collapse:"border-green-100"},5:{active:"border-blue-500",expand:"border-blue-300",collapse:"border-blue-100"},6:{active:"border-gray-500",expand:"border-gray-300",collapse:"border-gray-100"}},$=ce(`activeH${e.depth}Heading`),l=ce("collapsedHeadingsSet"),p=Ue(()=>!l.value.has(e.item.id)),k=ce("collapseHeadingHandler"),x=ce("expandHeadingHandler"),C=()=>{l.value.has(e.item.id)?x(e.item.id):k(e.item.id)};return(a,E)=>{const T=be,f=ct;return _(),j("li",null,[c("div",Ho,[c("div",{class:A(["shrink-0 self-stretch pr-4 py-2 flex justify-center items-center border-r",t($)===e.item.id?` ${v[e.depth].active} border-solid`:`${v[e.depth].expand} border-dashed`])},[c("p",{class:A(["text-xs font-thin",`${i[e.depth].normal}`])}," H"+ne(e.depth),3)],2),c("button",{class:A(["shrink-0 flex justify-center items-center border-[3px] rounded-full -translate-x-2.5",e.item.children?`${v[e.depth].expand} ${n[e.depth].withChildren}`:`${v[e.depth].collapse} ${n[e.depth].withoutChildren}`]),disabled:!e.item.children,onClick:C},[e.item.children?(_(),se(T,{key:0,name:"ion:add",class:A(["w-3.5 h-3.5 text-white transition-transform duration-500 delay-300",t(p)?"rotate-45":"rotate-0"])},null,8,["class"])):(_(),j("div",To))],10,zo),c("a",{href:`#${e.item.id}`,class:A(["py-2 px-2 text-sm text-left underline transition-colors duration-300 rounded",t($)===e.item.id?`${i[e.depth].normal} ${i[e.depth].hover} ${d[e.depth]} ${u[e.depth]}`:`text-gray-500 ${i[e.depth].hover} ${d[e.depth]} decoration-transparent`])},ne(e.item.text),11,Po)]),S(ke,{"enter-from-class":"translate-x-10 opacity-0","enter-active-class":"transition-all duration-300 ease-in-out","enter-to-class":"translate-x-0 opacity-100","leave-from-class":"translate-x-0 opacity-100","leave-active-class":"transition-all duration-100 ease-out","leave-to-class":"translate-x-10 opacity-0"},{default:K(()=>[e.item.children?de((_(),j("ul",{key:0,class:A(t(r)==="floatList"?"ml-5":"")},[(_(!0),j(Ce,null,$e(e.item.children,I=>(_(),se(f,{key:I.id,item:I,depth:I.depth||e.depth+1},null,8,["item","depth"]))),128))],2)),[[pe,t(p)]]):G("",!0)]),_:1})])}}}),Lo={class:"group"},Mo={class:"flex items-center gap-2"},So={class:"flex items-center gap-2"},Io={id:"catalog-container",ref:"catalogContainer",class:"flex flex-col scroll-smooth overscroll-none overflow-y-auto"},Ao={ref:"catalogList",class:"shrink-0 overscroll-none"},Bo=xe({__name:"ListCatalog",props:{catalogs:null},setup(o){const e=o,r=ie("catalogType"),n=ie("toggleCatalogFloat"),i=p=>{p==="sidebarList"?n.value=!1:n.value=!0,r.value=p},u=()=>{r.value==="floatTree"?i("floatList"):i("floatTree")},d=()=>{r.value==="sidebarList"?i("floatList"):i("sidebarList")},v=ie("syncCatalogToggleState"),$=ce("collapseAllHeadingsHandler"),l=ce("expandAllHeadingsHandler");return(p,k)=>{const x=be,C=ct;return _(),j("div",Lo,[c("div",{class:A(["catalog-btn-container shrink-0 py-2 flex items-center gap-x-8 overflow-x-auto transition-opacity duration-500",t(r)==="sidebarList"?"justify-start opacity-100 xl:opacity-10 group-hover:xl:opacity-100":"justify-between"])},[c("div",Mo,[c("button",{class:A(["catalog-btn flex border-purple-400",t(v)?"text-white bg-purple-500 hover:bg-purple-400":"text-purple-500 hover:text-white bg-purple-100 hover:bg-purple-500"]),onClick:k[0]||(k[0]=a=>v.value=!t(v))},[S(x,{name:"ic:outline-link",class:"w-4 h-4"})],2),c("button",{class:"catalog-btn flex text-green-400 hover:text-green-500 active:text-white bg-green-100 active:bg-green-500 border-green-400",onClick:k[1]||(k[1]=(...a)=>t(l)&&t(l)(...a))},[S(x,{name:"ic:outline-unfold-more",class:"w-4 h-4"})]),c("button",{class:"catalog-btn flex text-red-400 hover:text-red-500 bg-red-100 active:text-white active:bg-red-500 border-red-400",onClick:k[2]||(k[2]=(...a)=>t($)&&t($)(...a))},[S(x,{name:"ic:outline-unfold-less",class:"w-4 h-4"})])]),c("div",So,[c("button",{class:A(["catalog-btn flex border-purple-400",t(r)==="floatTree"?"text-white bg-purple-500 hover:bg-purple-400":"text-purple-500 hover:text-white bg-purple-100 hover:bg-purple-500"]),onClick:u},[S(x,{name:"ic:outline-account-tree",class:"w-4 h-4"})],2),c("button",{class:A(["catalog-btn hidden xl:flex border-purple-400",t(r)==="floatTree"||t(r)==="floatList"?"text-white bg-purple-500 hover:bg-purple-400":"text-purple-500 hover:text-white bg-purple-100 hover:bg-purple-500"]),onClick:d},[S(x,{name:t(r)==="sidebarList"?"mingcute:miniplayer-line":"mingcute:expand-player-line",class:"w-4 h-4"},null,8,["name"])],2)])],2),c("div",Io,[c("ul",Ao,[(_(!0),j(Ce,null,$e(e.catalogs,a=>(_(),se(C,{key:a.id,item:a,depth:a.depth},null,8,["item","depth"]))),128))],512)],512)])}}});const Do=Se(Bo,[["__scopeId","data-v-affe001e"]]);const jo=["viewBox"],Eo=["transform"],Wo={fill:"none",stroke:"#E5E7EB","stroke-opacity":"1","stroke-width":"1.5"},No=["d","data-depth","data-target-id","data-active-id"],Ro={"pointer-events":"all",style:{font:"14px sans-serif"}},Oo=["transform"],Yo=["x"],Xo={class:"w-full h-full flex items-center gap-0.5"},Fo=["disabled","onClick"],qo={key:1,class:"shrink-0 w-4 h-4 flex justify-center items-center"},Vo=["href"],Uo={class:"catalog-btn-container shrink-0 py-2 flex justify-between items-center gap-x-8 overflow-x-auto"},Zo={class:"flex items-center gap-2"},Go={class:"flex items-center gap-2"},Ko={__name:"TreeCatalog",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},catalogs:{type:Array,required:!0}},setup(o){const e=o,r=48,n=128,i=Ue(()=>`${-n}, ${-(e.height-41.33)/2}, ${e.width}, ${e.height-41.33}`),u=Ge({text:"catalog",depth:0,children:e.catalogs});u.descendants().forEach((g,y)=>{g.id=y,g.children&&(g._children=g.children)});const d=D([]),v=D([]),$=()=>{if(u){const g=io().nodeSize([r,n])(u);d.value=g.descendants(),v.value=g.links()}};$();const l=g=>ho().x(P=>P.y).y(P=>P.x)(g),p={0:{text:"text-gray-500",hoverBg:"hover:bg-gray-100"},2:{text:"text-purple-500",hoverBg:"hover:bg-purple-100"},3:{text:"text-red-500",hoverBg:"hover:bg-red-100"},4:{text:"text-green-500",hoverBg:"hover:bg-green-100"},5:{text:"text-blue-500",hoverBg:"hover:bg-blue-100"},6:{text:"text-gray-500",hoverBg:"hover:bg-gray-100"}},k={0:{withChildrenBg:"bg-gray-500",withoutChildrenBg:"bg-gray-200",border:"border-gray-300"},2:{withChildrenBg:"bg-purple-500",withoutChildrenBg:"bg-purple-200",border:"border-purple-300"},3:{withChildrenBg:"bg-red-500",withoutChildrenBg:"bg-red-200",border:"border-red-300"},4:{withChildrenBg:"bg-green-500",withoutChildrenBg:"bg-green-200",border:"border-green-300"},5:{withChildrenBg:"bg-blue-500",withoutChildrenBg:"bg-blue-200",border:"border-blue-300"},6:{withChildrenBg:"bg-gray-500",withoutChildrenBg:"bg-gray-200",border:"border-gray-300"}},x={0:void 0,2:ce("activeH2Heading"),3:ce("activeH3Heading"),4:ce("activeH4Heading"),5:ce("activeH5Heading"),6:ce("activeH6Heading")},C={0:{normal:"stroke-gray-200",active:"stroke-gray-400"},2:{normal:"stroke-purple-200",active:"stroke-purple-400"},3:{normal:"stroke-red-200",active:"stroke-red-400"},4:{normal:"stroke-green-200",active:"stroke-green-400"},5:{normal:"stroke-blue-200",active:"stroke-blue-400"},6:{normal:"stroke-gray-200",active:"stroke-gray-400"}},a=D({x:0,y:0,k:1});let E;ye(()=>{E=yo().scaleExtent([.5,5]).on("zoom",g=>{a.value=g.transform}),ve("#tree-catalog").call(E)});const T=()=>{ve("#tree-catalog").transition().duration(200).call(E.transform,Ze)},f=D(null),I=ce("collapsedHeadingsSet"),X=ce("collapseHeadingHandler"),W=ce("expandHeadingHandler"),R=g=>{g._children&&(I.value.has(g.data.id)?g.children=null:g.children=g._children,g._children.forEach(y=>{R(y)}))};He(I,()=>{u.descendants().forEach(g=>{R(g)}),$(),f.value&&(N(f.value),f.value=null)},{deep:!0,immediate:!0});const N=g=>{ve("#tree-catalog").transition().duration(200).call(E.translateTo,g.y+n,g.x)},U=D(null),Q=g=>{g.parent&&(U.value=g.id,g.children?(f.value=g.parent,X(g.data.id)):(f.value=g,W(g.data.id)))},M=ce("collapseAllHeadingsHandler"),z=ce("expandAllHeadingsHandler"),ae=ie("syncCatalogToggleState"),F=ie("catalogType"),re=ie("toggleCatalogFloat"),s=g=>{g==="sidebarList"?re.value=!1:re.value=!0,F.value=g},w=()=>{F.value==="floatTree"?s("floatList"):s("floatTree")},h=()=>{F.value==="sidebarList"?s("floatList"):s("sidebarList")};return(g,y)=>{const P=be;return _(),j("div",null,[(_(),j("svg",{id:"tree-catalog",class:"grow select-none",viewBox:t(i)},[c("g",{transform:`translate(${t(a).x}, ${t(a).y}) scale(${t(a).k}) `},[c("g",Wo,[S(Ke,{"enter-from-class":"opacity-0","enter-active-class":"transition-all delay-200 duration-200 ease-in","enter-to-class":"opacity-100"},{default:K(()=>[(_(!0),j(Ce,null,$e(t(v),m=>{var O,V;return _(),j("path",{key:m.target.id,d:l(m),class:A(["transition-all duration-200",m.target.data.id===((O=x[m.target.data.depth])==null?void 0:O.value)?`stroke-2 ${C[m.target.data.depth].active}`:`stroke-1 ${C[m.target.data.depth].normal}`]),"data-depth":m.target.data.depth,"data-target-id":m.target.data.id,"data-active-id":(V=x[m.target.data.depth])==null?void 0:V.value},null,10,No)}),128))]),_:1})]),c("g",Ro,[S(Ke,{"enter-from-class":"opacity-0","enter-active-class":"transition-all delay-200 duration-200 ease-in","enter-to-class":"opacity-100",onAfterEnter:y[0]||(y[0]=m=>U.value=null),onAfterLeave:y[1]||(y[1]=m=>U.value=null)},{default:K(()=>[(_(!0),j(Ce,null,$e(t(d),m=>(_(),j("g",{key:m.id,cursor:"pointer",transform:`translate(${m.y}, ${m.x})`,class:"transition-all duration-200"},[(_(),j("foreignObject",{x:m.parent?"0rem":"-3.5rem",y:"-1.5rem",width:"7rem",height:"3rem"},[c("div",Xo,[m.data.depth!==0&&m._children?(_(),j("button",{key:0,class:A(["shrink-0 w-4 h-4 flex justify-center items-center border-2 rounded-full",`${k[m.data.depth].border} ${k[m.data.depth].withChildrenBg}`]),disabled:!m._children,onClick:O=>Q(m)},[S(P,{name:"ion:add",class:A(["text-white transition-transform duration-200",m.children?"rotate-45":"rotate-0"])},null,8,["class"])],10,Fo)):(_(),j("div",qo,[c("div",{class:A(["w-2 h-2 rounded-full",`${k[m.data.depth].withoutChildrenBg}`])},null,2)])),m.data.id?(_(),j("a",{key:2,href:`#${m.data.id}`,class:A(["max-w-full p-1 text-xs font-bold text-left transition-colors duration-300 rounded",`${p[m.data.depth].text} ${p[m.data.depth].hoverBg}`]),style:{"text-shadow":"0px 0px 5px #f3f4f6, -3px 0px 3px #f3f4f6, 3px 0px 3px #f3f4f6, 0px 3px 3px #f3f4f6, 0px -3px 3px #f3f4f6","word-wrap":"break-word"}},ne(m.data.text),11,Vo)):(_(),j("span",{key:3,class:A(["p-1 text-xs font-bold text-left",`${p[m.data.depth].text}`]),style:{"text-shadow":"0px 0px 5px #f3f4f6, -3px 0px 3px #f3f4f6, 3px 0px 3px #f3f4f6, 0px 3px 3px #f3f4f6, 0px -3px 3px #f3f4f6"}},ne(m.data.text),3))])],8,Yo))],8,Oo))),128))]),_:1})])],8,Eo)],8,jo)),c("div",Uo,[c("div",Zo,[c("button",{class:A(["catalog-btn flex border-purple-400",t(ae)?"text-white bg-purple-500 hover:bg-purple-400":"text-purple-500 hover:text-white bg-purple-100 hover:bg-purple-500"]),onClick:y[2]||(y[2]=m=>ae.value=!t(ae))},[S(P,{name:"ic:outline-link",class:"w-4 h-4"})],2),c("button",{class:"catalog-btn flex text-green-400 hover:text-green-500 active:text-white bg-green-100 active:bg-green-500 border-green-400",onClick:y[3]||(y[3]=(...m)=>t(z)&&t(z)(...m))},[S(P,{name:"ic:outline-unfold-more",class:"w-4 h-4"})]),c("button",{class:"catalog-btn flex text-red-400 hover:text-red-500 bg-red-100 active:text-white active:bg-red-500 border-red-400",onClick:y[4]||(y[4]=(...m)=>t(M)&&t(M)(...m))},[S(P,{name:"ic:outline-unfold-less",class:"w-4 h-4"})]),c("button",{class:"catalog-btn flex text-purple-400 hover:text-purple-500 bg-purple-100 active:text-white active:bg-purple-500 border-purple-400",onClick:T},[S(P,{name:"ic:round-settings-backup-restore",class:"w-4 h-4"})])]),c("div",Go,[c("button",{class:A(["catalog-btn flex border-purple-400",t(F)==="floatTree"?"text-white bg-purple-500 hover:bg-purple-400":"text-purple-500 hover:text-white bg-purple-100 hover:bg-purple-500"]),onClick:w},[S(P,{name:"ic:outline-account-tree",class:"w-4 h-4"})],2),c("button",{class:A(["catalog-btn hidden xl:flex border-purple-400",t(F)==="floatTree"||t(F)==="floatList"?"text-white bg-purple-500 hover:bg-purple-400":"text-purple-500 hover:text-white bg-purple-100 hover:bg-purple-500"]),onClick:h},[S(P,{name:t(F)==="sidebarList"?"mingcute:miniplayer-line":"mingcute:expand-player-line",class:"w-4 h-4"},null,8,["name"])],2)])])])}}},Qo=Se(Ko,[["__scopeId","data-v-9576c35b"]]),Jo={class:"flex"},en={class:"flex items-stretch"},tn={class:"flex"},on=["data-show"],nn=xe({__name:"ResizableFloatCard",props:{showResetButton:{type:Boolean},startWidth:null,startHeight:null,positionPoint:null,startX:null,startY:null},setup(o){const e=o,r=D(null),n=D(e.startX||0),i=D(e.startY||0),u=D(e.startWidth||0),d=D(e.startHeight||0),v=Ue(()=>{let M;switch(e.positionPoint){case"leftTop":M=`left: ${n.value}px; top: ${i.value}px`;break;case"leftBottom":M=`left: ${n.value}px; bottom: ${i.value}px`;break;case"rightTop":M=`right: ${n.value}px; top: ${i.value}px`;break;case"rightBottom":M=`right: ${n.value}px; bottom: ${i.value}px`;break}return M});let $=null,l=null,p=0,k=0,x=0,C=0;const a=D(""),E=(M,z)=>{z&&(z.currentTarget.setPointerCapture(z.pointerId),$=z,l=z,a.value=M,p=u.value,k=d.value,x=n.value,C=i.value)},T=M=>{if(M&&l){if($=M,a.value!=="left"&&a.value!=="right"){const z=$.y-l.y;a.value==="up"||a.value==="up-left"||a.value==="up-right"?(d.value=k-z,(e.positionPoint==="leftTop"||e.positionPoint==="rightTop")&&(i.value=C+z)):(d.value=k+z,(e.positionPoint==="leftBottom"||e.positionPoint==="rightBottom")&&(i.value=C-z))}if(a.value!=="up"&&a.value!=="bottom"){const z=$.x-l.x;a.value==="left"||a.value==="up-left"||a.value==="bottom-left"?(u.value=p-z,(e.positionPoint==="leftTop"||e.positionPoint==="leftBottom")&&(n.value=x+z)):(u.value=p+z,(e.positionPoint==="rightTop"||e.positionPoint==="rightBottom")&&(n.value=x-z))}}},f=()=>{$=null,l=null,a.value="",p=0,k=0};let I=null,X=null;const W=D(!1),R=M=>{M&&(W.value=!0,M.currentTarget.setPointerCapture(M.pointerId),I=M,X=M,x=n.value,C=i.value)},N=M=>{if(M&&X){I=M;const z=I.x-X.x,ae=I.y-X.y;e.positionPoint==="leftTop"||e.positionPoint==="leftBottom"?n.value=x+z:n.value=x-z,e.positionPoint==="leftTop"||e.positionPoint==="rightTop"?i.value=C+ae:i.value=C-ae}},U=()=>{W.value=!1,I=null,X=null},Q=()=>{n.value=e.startX||16,i.value=e.startY||80,u.value=e.startWidth||300,d.value=e.startHeight||300};return(M,z)=>{const ae=be;return _(),j("aside",{id:"float-container",ref_key:"floatDOM",ref:r,tabindex:"0",class:"flex flex-col justify-center fixed z-40 select-none will-change-transform bg-gray-100 shadow-md shadow-gray-500 rounded-lg touch-none",style:Le(t(v))},[c("div",Jo,[c("button",{draggable:"false",class:A(["shrink-0 group pt-1 pl-1 flex justify-start items-start cursor-nwse-resize touch-none rounded-tl-lg transition-colors duration-300",t(a)==="up"||t(a)==="up-left"||t(a)==="up-right"||t(a)==="bottom-left"||t(a)==="left"?"bg-purple-200":""]),onPointerdown:z[0]||(z[0]=F=>E("up-left",F)),onPointermove:T,onPointercancel:f,onPointerup:f},[c("div",{class:A(["resize-btn-indicator w-1 h-2 rounded-b transition-colors duration-300",t(a)==="up-left"?"bg-purple-400":t(a)==="up"||t(a)==="up-right"||t(a)==="bottom-left"||t(a)==="left"?"bg-purple-200":"bg-gray-200 group-hover:bg-gray-400"])},null,2),c("div",{class:A(["resize-btn-indicator w-1 h-1 rounded-r transition-colors duration-300",t(a)==="up-left"?"bg-purple-400 group-hover:bg-purple-400":t(a)==="up"||t(a)==="up-right"||t(a)==="bottom-left"||t(a)==="left"?"bg-purple-200":"bg-gray-200 group-hover:bg-gray-400"])},null,2)],34),c("button",{draggable:"false",class:A(["grow group py-1 flex justify-center items-start cursor-ns-resize touch-none transition-colors duration-300",t(a)==="up"||t(a)==="up-left"||t(a)==="up-right"?"bg-purple-200":""]),onPointerdown:z[1]||(z[1]=F=>E("up",F)),onPointermove:T,onPointercancel:f,onPointerup:f},[c("div",{class:A(["resize-btn-indicator w-10 h-1 rounded transition-colors duration-300",t(a)==="up"?"bg-purple-400":t(a)==="up-left"||t(a)==="up-right"?"bg-purple-200":"bg-gray-200 group-hover:bg-gray-400"])},null,2)],34),c("button",{draggable:"false",class:A(["shrink-0 group pt-1 pr-1 flex justify-end items-start cursor-nesw-resize touch-none rounded-tr-lg transition-colors duration-300",t(a)==="up"||t(a)==="up-left"||t(a)==="up-right"||t(a)==="bottom-right"||t(a)==="right"?"bg-purple-200":""]),onPointerdown:z[2]||(z[2]=F=>E("up-right",F)),onPointermove:T,onPointercancel:f,onPointerup:f},[c("div",{class:A(["resize-btn-indicator w-1 h-1 rounded-l transition-colors duration-300",t(a)==="up-right"?"bg-purple-400":t(a)==="up"||t(a)==="up-left"||t(a)==="bottom-right"||t(a)==="right"?"bg-purple-200":"bg-gray-200 group-hover:bg-gray-400"])},null,2),c("div",{class:A(["resize-btn-indicator w-1 h-2 rounded-b transition-colors duration-300",t(a)==="up-right"?"bg-purple-400":t(a)==="up"||t(a)==="up-left"||t(a)==="bottom-right"||t(a)==="right"?"bg-purple-200":"bg-gray-200 group-hover:bg-gray-400"])},null,2)],34)]),c("div",en,[c("button",{draggable:"false",class:A(["shrink-0 group cursor-ew-resize px-1 flex justify-start items-center touch-none transition-colors duration-300",t(a)==="up-left"||t(a)==="left"||t(a)==="bottom-left"?"bg-purple-200":""]),onPointerdown:z[3]||(z[3]=F=>E("left",F)),onPointermove:T,onPointercancel:f,onPointerup:f},[c("div",{class:A(["resize-btn-indicator w-1 h-10 rounded transition-colors duration-300",t(a)==="left"?"bg-purple-400":t(a)==="up-left"||t(a)==="bottom-left"?"bg-purple-200":"bg-gray-200 group-hover:bg-gray-400"])},null,2)],34),c("div",{class:"grow flex flex-col justify-start",style:Le(`width: ${t(u)}px; height: ${t(d)}px;`)},[c("button",{draggable:"false",class:A(["shrink-0 p-1 w-full flex justify-center items-center rounded transition-colors duration-300 cursor-move touch-none",t(W)?"bg-purple-200 text-purple-500":"text-gray-600 hover:text-gray-800 hover:bg-gray-200"]),onPointerdown:R,onPointermove:N,onPointercancel:U,onPointerup:U},[S(ae,{name:"akar-icons:drag-horizontal",class:"w-4 h-4"})],34),gt(M.$slots,"default",{contentWidth:t(u),contentHeight:t(d)},()=>[Ee(" Hello ")])],4),c("button",{draggable:"false",class:A(["shrink-0 group px-1 flex justify-end items-center transition-colors duration-300 cursor-ew-resize touch-none",t(a)==="up-right"||t(a)==="right"||t(a)==="bottom-right"?"bg-purple-200":""]),onPointerdown:z[4]||(z[4]=F=>E("right",F)),onPointermove:T,onPointercancel:f,onPointerup:f},[c("div",{class:A(["resize-btn-indicator w-1 h-10 rounded transition-colors duration-300",t(a)==="right"?"bg-purple-400":t(a)==="up-right"||t(a)==="bottom-right"?"bg-purple-200":"bg-gray-200 group-hover:bg-gray-400"])},null,2)],34)]),c("div",tn,[c("button",{draggable:"false",class:A(["shrink-0 group pl-1 pb-1 flex justify-start items-end cursor-nesw-resize touch-none rounded-bl-lg transition-colors duration-300",t(a)==="bottom"||t(a)==="bottom-left"||t(a)==="bottom-right"||t(a)==="up-left"||t(a)==="left"?"bg-purple-200":""]),onPointerdown:z[5]||(z[5]=F=>E("bottom-left",F)),onPointermove:T,onPointercancel:f,onPointerup:f},[c("div",{class:A(["resize-btn-indicator w-1 h-2 rounded-t transition-colors duration-300",t(a)==="bottom-left"?"bg-purple-400":t(a)==="bottom"||t(a)==="bottom-right"||t(a)==="up-left"||t(a)==="left"?"bg-purple-200":"bg-gray-200 group-hover:bg-gray-400"])},null,2),c("div",{class:A(["resize-btn-indicator w-1 h-1 rounded-r transition-colors duration-300",t(a)==="bottom-left"?"bg-purple-400":t(a)==="bottom"||t(a)==="bottom-right"||t(a)==="up-left"||t(a)==="left"?"bg-purple-200":"bg-gray-200 group-hover:bg-gray-400"])},null,2)],34),c("button",{draggable:"false",class:A(["grow group py-1 flex justify-center items-end transition-colors duration-300 cursor-ns-resize touch-none",t(a)==="bottom"||t(a)==="bottom-left"||t(a)==="bottom-right"?"bg-purple-200":""]),onPointerdown:z[6]||(z[6]=F=>E("bottom",F)),onPointermove:T,onPointercancel:f,onPointerup:f},[c("div",{class:A(["resize-btn-indicator w-10 h-1 rounded transition-colors duration-300",t(a)==="bottom"?"bg-purple-400":t(a)==="bottom-left"||t(a)==="bottom-right"?"bg-purple-200":"bg-gray-200 group-hover:bg-gray-400"])},null,2)],34),c("button",{draggable:"false",class:A(["shrink-0 group pr-1 pb-1 flex justify-end items-end cursor-nwse-resize touch-none rounded-br-lg transition-colors duration-300",t(a)==="bottom"||t(a)==="bottom-left"||t(a)==="bottom-right"||t(a)==="up-right"||t(a)==="right"?"bg-purple-200":""]),onPointerdown:z[7]||(z[7]=F=>E("bottom-right",F)),onPointermove:T,onPointercancel:f,onPointerup:f},[c("div",{class:A(["resize-btn-indicator w-1 h-1 rounded-l transition-colors duration-300",t(a)==="bottom-right"?"bg-purple-400":t(a)==="bottom"||t(a)==="bottom-left"||t(a)==="up-right"||t(a)==="right"?"bg-purple-200":"bg-gray-200 group-hover:bg-gray-400"])},null,2),c("div",{class:A(["resize-btn-indicator w-1 h-2 rounded-t transition-colors duration-300",t(a)==="bottom-right"?"bg-purple-400":t(a)==="bottom"||t(a)==="bottom-left"||t(a)==="up-right"||t(a)==="right"?"bg-purple-200":"bg-gray-200 group-hover:bg-gray-400"])},null,2)],34)]),(_(),se(De,{to:"body"},[S(ke,{"enter-from-class":"translate-x-10","enter-active-class":"transition-transform duration-500 ease","enter-to-class":"translate-x-0","leave-from-class":"translate-x-0","leave-active-class":"transition-transform duration-75 ease","leave-to-class":"translate-x-10"},{default:K(()=>[de(c("button",{"data-show":e.showResetButton,class:"p-3 sm:p-2 flex justify-center items-center fixed bottom-[8.5rem] sm:bottom-28 right-2 sm:right-4 z-40 active:text-white rounded-lg text-purple-400 hover:text-purple-500 bg-purple-100 active:bg-purple-500 border border-purple-200",onClick:Q},[S(ae,{name:"bi:layout-sidebar-inset",class:"w-5 h-5"})],8,on),[[pe,e.showResetButton]])]),_:1})]))],4)}}}),an={key:0,id:"sidebar",class:"flex flex-col justify-center fixed z-30 top-1/2 right-0 -translate-y-1/2 select-none"},rn=xe({__name:"MarkdownPostCatalog",props:{catalogs:null},setup(o){const e=o,r=ie("showCatalog"),n=ie("catalogType",()=>""),i=ie("toggleCatalogFloat",()=>!1),u=D(0),d=D(300),v=D(300),$=D(16),l=D(80),p=it();return ye(()=>{u.value=(p.value.width-896)/2,i.value||(p.value.width<1280?n.value="floatList":n.value="sidebarList"),He(()=>p.value.width,()=>{u.value=(p.value.width-896)/2,p.value.width<1280&&n.value!=="floatList"&&n.value!=="floatTree"?n.value="floatList":p.value.width>=1280&&!i.value&&(n.value="sidebarList")})}),(k,x)=>{const C=Do,a=Qo,E=nn;return _(),j("div",null,[t(n)==="sidebarList"?(_(),j("aside",an,[S(C,{catalogs:e.catalogs,class:"grow max-h-[70vh] pr-2 py-2 flex flex-col gap-y-2 justify-center items-center",style:Le(`width: ${t(u)}px`)},null,8,["catalogs","style"])])):G("",!0),t(n)==="floatList"||t(n)==="floatTree"?(_(),se(E,{key:1,"show-reset-button":t(r)&&(t(n)==="floatList"||t(n)==="floatTree"),"start-width":t(d),"start-height":t(v),"position-point":"leftBottom","start-x":t($),"start-y":t(l)},{default:K(({contentWidth:T,contentHeight:f})=>[de(S(C,{catalogs:e.catalogs,class:"grow flex flex-col-reverse justify-between items-stretch overflow-hidden"},null,8,["catalogs"]),[[pe,t(n)==="floatList"]]),de(S(a,{catalogs:e.catalogs,width:T,height:f,class:"grow flex flex-col overflow-hidden"},null,8,["catalogs","width","height"]),[[pe,t(n)==="floatTree"]])]),_:1},8,["show-reset-button","start-width","start-height","start-x","start-y"])):G("",!0)])}}});const ln=Se(rn,[["__scopeId","data-v-7d199b85"]]),dt=o=>(nt("data-v-2faf0d96"),o=o(),at(),o),sn={class:"expand-window p-4 fixed inset-0 z-[80] flex justify-center items-center"},un={class:"modal-container flex flex-col lg:max-w-4xl"},cn={class:"px-4 py-4 sm:py-6 text-lg sm:text-xl font-bold text-center bg-white border-b rounded-t-lg"},dn={key:0,ref:"seriesModalContentDOM",class:"modal-content-container pl-8 md:pl-12 pr-4 py-4 list-decimal space-y-2 overflow-y-auto bg-white"},pn={class:"font-bold"},hn={key:1,class:"p-4 flex flex-col justify-center items-center space-y-2 bg-white rounded-t-lg"},gn=dt(()=>c("p",null,"Oops! There is no series.",-1)),fn={class:"p-2 grid grid-cols-2 gap-2 justify-items-stretch sticky bottom-0 inset-x-0 text-xs bg-white border-t rounded-b-lg"},mn=dt(()=>c("span",null,"Esc",-1)),vn=[mn],xn=["title"],bn={class:"hidden sm:inline"},yn=xe({__name:"SeriesModal",props:{currentPath:null,seriesName:null,seriesList:null},setup(o){const e=o,r=ie("showSeriesModal",()=>!1),n=D(!1);He(r,()=>{document!=null&&document.body&&(r.value?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"))},{immediate:!0});const i=ft(),u=D([]),d=D(0);let v=-1;const $=function(l){if(l.key==="Escape")r.value=!1;else if(l.key==="ArrowDown"){v=v+1,v>d.value-1&&(v=0);const p=u.value[v];p&&p.focus()}else if(l.key==="ArrowUp"){v=v-1,v<0&&(v=d.value-1);const p=u.value[v];p&&p.focus()}else if(l.key==="Enter"){const p=e.seriesList[v]._path;i.push({path:p}),r.value=!1}};return ye(()=>{document&&(d.value=u.value.length,document.addEventListener("keyup",$))}),Xe(()=>{document.removeEventListener("keyup",$)}),(l,p)=>{const k=ot,x=be;return _(),j("div",sn,[c("div",{class:"expand-window absolute inset-0 -z-10 flex justify-center items-center bg-black/30 backdrop-blur",onClick:p[0]||(p[0]=C=>r.value=!1)}),c("div",un,[c("h2",cn,ne(e.seriesName),1),o.seriesList&&o.seriesList.length>0?(_(),j("ol",dn,[(_(!0),j(Ce,null,$e(o.seriesList,C=>(_(),j("li",{ref_for:!0,ref_key:"itemRefs",ref:u,key:C._path,tabindex:"0",class:A(["py-2 hover:text-blue-500 hover:bg-blue-100 focus:outline-blue-500 transition-colors duration-300 rounded-md",e.currentPath===C._path?"text-blue-500":"text-gray-600"])},[S(k,{to:C._path,class:"block px-4 space-y-2",onClick:p[1]||(p[1]=a=>r.value=!1)},{default:K(()=>[c("h3",pn,ne(C.title),1),de(c("p",{class:"text-sm opacity-60"},ne(C.description),513),[[pe,t(n)&&C.description]])]),_:2},1032,["to"])],2))),128))],512)):(_(),j("div",hn,[S(x,{name:"fluent:mail-inbox-dismiss-28-filled",class:"w-10 h-10"}),gn])),c("div",fn,[c("button",{class:"px-4 py-2.5 flex justify-center items-center space-x-1 text-red-600 bg-red-100 hover:text-white hover:bg-red-500 focus:outline-red-500 rounded transition-colors duration-300",title:"close window",onClick:p[2]||(p[2]=C=>r.value=!1)},vn),c("button",{class:A(["px-4 py-2.5 flex justify-center items-center space-x-1 focus:outline-green-500 rounded transition-colors duration-300",t(n)?"text-white bg-green-500 hover:bg-green-400":"text-green-600 bg-green-100 hover:text-white hover:bg-green-500 "]),title:t(n)?"Less Details":"More Details",onClick:p[3]||(p[3]=C=>n.value=!t(n))},[c("p",null,[c("span",bn,ne(t(n)?"Less":"More"),1),Ee(" Detail")])],10,xn)])])])}}});const _n=Se(yn,[["__scopeId","data-v-2faf0d96"]]),wn=o=>(nt("data-v-42887595"),o=o(),at(),o),kn=["src","alt"],Cn=wn(()=>c("span",null,"Esc",-1)),$n=["disabled"],Hn=["onClick"],zn=["src","alt"],Tn=["disabled"],Pn=xe({__name:"ImageLightbox",setup(o){const e=Je(),r=Ht(),n=zt(),i=Tt(),u=D(!1),d=Je(),v=L=>{if(i.value.length===0)return;const B=i.value.findIndex(oe=>{var q;return oe.src===((q=n.value)==null?void 0:q.src)});B!==-1&&(L==="prev"?B===0?n.value=i.value[i.value.length-1]:n.value=i.value[B-1]:L==="next"&&(B===i.value.length-1?n.value=i.value[0]:n.value=i.value[B+1]))},$=function(L){L.key==="Escape"?d.value="hiding":L.key==="ArrowLeft"?(v("prev"),re()):L.key==="ArrowRight"&&(v("next"),re())};ye(()=>{He(e,()=>{document&&(e.value!=="hidden"?document.addEventListener("keyup",$):document.removeEventListener("keyup",$))})});const l=D(null),p=D(!1),k=it();ye(()=>{l.value&&(l.value.scrollWidth>l.value.offsetWidth&&(p.value=!0),He(()=>k.value.width,()=>{l.value&&l.value.scrollWidth>l.value.offsetWidth?p.value=!0:p.value=!1}))});const x=D("start"),C=()=>{l.value&&(l.value.scrollLeft===0?x.value="start":l.value.scrollLeft+l.value.offsetWidth>=l.value.scrollWidth?x.value="end":x.value="middle")},a=L=>{l.value&&(L==="left"?l.value.scrollLeft-=l.value.offsetWidth:L==="right"&&(l.value.scrollLeft+=l.value.offsetWidth))},E=L=>{n.value=L,re()},T=D(null),f=D(0),I=D(0),X=D(1),W=D(1);let R=0,N=0,U=0,Q=0;const M=D("translate(0px, 0px) scale(1)"),z=(L="screen")=>{L==="origin"&&(f.value=0,I.value=0),X.value=1,W.value=1,R=0,N=0,U=0,Q=0,M.value=`translate(${R}px, ${N}px) scale(${W.value})`},ae=(L="add")=>{T.value&&(L==="add"?(T.value.classList.add("transition-all"),T.value.classList.add("duration-100"),T.value.classList.add("ease-in-out")):(T.value.classList.remove("transition-all"),T.value.classList.remove("duration-100"),T.value.classList.remove("ease-in-out")))},F=()=>{if(!n.value||!(document!=null&&document.documentElement)||!window)return;f.value=n.value.width,I.value=n.value.height,R=-(document.documentElement.clientWidth/2-(n.value.x+n.value.width/2)),N=-(window.innerHeight/2-(n.value.y+n.value.height/2)),W.value=1,M.value=`translate(${R}px, ${N}px) scale(${W.value})`},re=()=>{if(n.value&&document.documentElement&&window){const L=document.documentElement.clientWidth,B=window.innerHeight,q=L/n.value.width*n.value.height<=B,le=n.value.width/n.value.height;q?(f.value=L,I.value=f.value/le):(I.value=B,f.value=I.value*le)}R=0,N=0,W.value=1,M.value=`translate(${R}px, ${N}px) scale(${W.value})`},s=()=>{ae("add"),F()},w=()=>{re(),m.value=!0},h=()=>{e.value==="show"&&(u.value=!0,ae("remove"))},g=()=>{n.value&&r.value&&n.value.src===r.value.src?(ae("add"),n.value=r.value):(e.value="hidden",z("origin"),m.value=!1,r.value=null,n.value=null,i.value=[],b=null,H=null,Z=null,J=null),u.value=!1},y=()=>{F()},P=()=>{ae("remove"),e.value="hidden",z("origin"),m.value=!1,r.value=null,n.value=null,i.value=[],b=null,H=null,Z=null,J=null},m=D(!1),O=L=>{L&&r.value?m.value=!m.value:e.value="hiding"},V=.2,ue=10,ee=L=>{if(T.value&&e.value==="show"&&r.value){L.stopPropagation(),L.preventDefault();const B=-L.deltaY,oe=L.ctrlKey?.05:.2,q=B>0?W.value+oe:W.value-oe;if(q<V||q>ue)return;W.value=q;const le=L.offsetX,ze=L.offsetY,Te=B>0?oe:-oe;R+=-le*Te+T.value.clientWidth*Te/2,N+=-ze*Te+T.value.clientHeight*Te/2,M.value=`translate(${R}px, ${N}px) scale(${W.value})`}};let Z=null,J=null,b=null,H=null,Y=0,te=0,ge=0;const he=(L,B)=>Math.sqrt((B.clientX-L.clientX)**2+(B.clientY-L.clientY)**2),fe=L=>{e.value&&(b?H||(J=L,H=J):(Z=L,b=Z),Z&&J&&b&&H&&(ge=he(b,H),Y=(Z.offsetX+J.offsetX)/2,te=(Z.offsetY+J.offsetY)/2),U=R,Q=N)},Ie=L=>{if(!(!T.value||!e.value)){if(b&&H){L.preventDefault(),L.pointerId===b.pointerId?b=L:L.pointerId===H.pointerId&&(H=L);const B=he(b,H),oe=100,q=(B-ge)/oe,le=W.value+q;if(le<V||le>ue)return;W.value=le,R+=-Y*q+T.value.clientWidth*q/2,N+=-te*q+T.value.clientHeight*q/2,ge=B,M.value=`translate(${R}px, ${N}px) scale(${W.value})`}else if(Z&&b||J&&H){let B;if(b&&L.pointerId===b.pointerId?(B=Z,b=L):H&&L.pointerId===H.pointerId&&(B=J,H=L),B&&(R=U+(L.clientX-B.clientX),N=Q+(L.clientY-B.clientY),M.value=`translate(${R}px, ${N}px) scale(${W.value})`),W.value===1&&U===0&&Q===0){const oe=T.value.getBoundingClientRect();Math.abs(N)>Math.abs(R)?X.value=1-Math.abs(N)/oe.height<.2?.2:1-Math.abs(N)/oe.height:X.value=1-Math.abs(R)/oe.width<.2?.2:1-Math.abs(R)/oe.width}}}},Ae=L=>{if(T.value&&W.value===1&&U===0&&Q===0){const B=T.value.getBoundingClientRect();Math.abs(N)-B.height/4>0?O(!1):X.value=1,i.value.length>1&&(Math.abs(R)-B.width/4>0?(R>0?v("prev"):v("next"),re()):X.value=1)}b&&L.pointerId===b.pointerId?(b=null,Z=null):H&&L.pointerId===H.pointerId&&(H=null,J=null),U=R,Q=N,(!b||!H)&&(ge=0,Y=0,te=0)};return(L,B)=>{const oe=be;return de((_(),j("div",{class:A(["w-screen h-screen fixed inset-0 z-[999] flex justify-center items-center cursor-zoom-out",t(e)!=="hidden"&&t(u)?"touch-none bg-white/90 backdrop-blur":""]),onClick:B[7]||(B[7]=q=>O(!1)),onWheel:B[8]||(B[8]=q=>q.preventDefault())},[S(ke,{onBeforeEnter:s,onAfterEnter:w,onBeforeLeave:g,onLeave:y,onAfterLeave:P},{default:K(()=>[de(c("img",{ref_key:"image",ref:T,class:"mx-auto will-change-transform cursor-move touch-none",src:t(n)?t(n).src:"",alt:t(n)?t(n).alt:"",style:Le(`width: ${t(f)}px; height: ${t(I)}px; opacity: ${t(X)};transform: ${t(M)}`),draggable:"false",onTransitionend:h,onDblclick:B[0]||(B[0]=q=>z("screen")),onClick:B[1]||(B[1]=_e(q=>O(!0),["stop","prevent"])),onWheel:ee,onPointerdown:fe,onPointermove:Ie,onPointercancel:Ae,onPointerup:Ae},null,44,kn),[[pe,t(e)==="show"&&t(n)]])]),_:1}),S(ke,{"enter-from-class":"-translate-x-20 opacity-0","enter-active-class":"transition-all duration-200 ease","enter-to-class":"translate-x-0 opacity-100","leave-from-class":"translate-x-0 opacity-100","leave-active-class":"transition-all duration-75 ease","leave-to-class":"-translate-x-20 opacity-0"},{default:K(()=>[de(c("button",{class:"h-fit px-4 sm:px-2 py-2 flex justify-center items-center fixed top-4 left-4 z-[1000] text-xs text-purple-400 hover:text-purple-500 active:text-white bg-purple-100 border border-purple-500 active:bg-purple-500 rounded",onClick:B[2]||(B[2]=_e(q=>z("screen"),["stop","prevent"]))},ne(Math.round(t(W)*100))+"% ",513),[[pe,t(m)]])]),_:1}),S(ke,{"enter-from-class":"translate-x-20 opacity-0","enter-active-class":"transition-all duration-200 ease","enter-to-class":"translate-x-0 opacity-100","leave-from-class":"translate-x-0 opacity-100","leave-active-class":"transition-all duration-75 ease","leave-to-class":"translate-x-20 opacity-0"},{default:K(()=>[de(c("button",{class:"h-fit px-4 sm:px-2 py-2 flex justify-center items-center gap-1 bg-red-100 text-xs text-red-400 hover:text-red-500 active:text-white active:bg-red-500 border border-red-500 fixed top-4 right-4 z-[1000] rounded",onClick:B[3]||(B[3]=_e(q=>O(!1),["stop","prevent"]))},[Cn,S(oe,{name:"ic:round-close",class:"w-4 h-4"})],512),[[pe,t(m)]])]),_:1}),S(ke,{"enter-from-class":"translate-y-28 opacity-0","enter-active-class":"transition-all duration-200 ease","enter-to-class":"translate-y-0 opacity-100","leave-from-class":"translate-y-0 opacity-100","leave-active-class":"transition-all duration-75 ease","leave-to-class":"translate-y-28 opacity-0"},{default:K(()=>[de(c("div",{class:"p-2 absolute bottom-20 sm:bottom-4 left-1/2 z-10 -translate-x-1/2 flex items-center gap-x-2 bg-gray-100 rounded-lg border border-gray-200 cursor-default",onClick:B[6]||(B[6]=_e(()=>{},["stop"]))},[de(c("button",{disabled:t(x)==="start",class:A(["btn bg-purple-100 text-purple-400 hover:text-purple-500 active:bg-purple-500 border-purple-500",t(x)==="start"?" opacity-30":"opacity-100"]),onClick:B[4]||(B[4]=_e(q=>a("left"),["stop","prevent"]))},[S(oe,{name:"material-symbols:arrow-left-rounded",class:"w-6 h-6"})],10,$n),[[pe,t(p)]]),c("div",{ref_key:"zoomImageListContainer",ref:l,class:"zoom-image-list max-w-[80vw] p-2 flex items-center gap-x-2 overflow-x-auto overscroll-x-none",onScrollPassive:C},[(_(!0),j(Ce,null,$e(t(i),(q,le)=>(_(),j("button",{key:le,class:A(["shrink-0 w-16 h-16 sm:w-20 sm:h-20 ring sm:ring-4 focus:outline-none rounded overflow-hidden",t(n)&&t(n).src===q.src?"ring-purple-400":"ring-transparent"]),onClick:_e(ze=>E(q),["stop","prevent"])},[c("img",{src:q.src,alt:q.alt,class:"mx-auto max-h-full"},null,8,zn)],10,Hn))),128))],544),de(c("button",{disabled:t(x)==="end",class:A(["btn bg-purple-100 text-purple-400 hover:text-purple-500 active:bg-purple-500 border-purple-500",t(x)==="end"?"opacity-30":"opacity-100"]),onClick:B[5]||(B[5]=_e(q=>a("right"),["stop","prevent"]))},[S(oe,{name:"material-symbols:arrow-right-rounded",class:"w-6 h-6"})],10,Tn),[[pe,t(p)]])],512),[[pe,t(m)&&t(i).length>1]])]),_:1})],34)),[[pe,t(e)!=="hidden"]])}}});const Ln=Se(Pn,[["__scopeId","data-v-42887595"]]),Mn={class:"py-8 selection:text-white selection:bg-purple-400"},Sn={class:"py-4 text-3xl md:text-5xl font-bold text-center"},In={class:"py-2 flex flex-wrap justify-center items-center gap-2 sm:gap-4"},An={class:"text-xs"},Bn={key:1,class:"flex flex-wrap justify-center items-center gap-2 sm:gap-4"},Dn={key:0,class:"flex items-center gap-1 text-gray-300 hover:text-gray-400 transition-colors duration-300"},jn={class:"text-xs"},En={key:1,class:"flex items-center gap-1 text-gray-300 hover:text-gray-400 transition-colors duration-300"},Wn={class:"text-xs"},Nn={class:"flex flex-wrap justify-center items-center gap-2 sm:gap-4"},Rn={class:"text-xs"},On=c("span",{class:"text-xs"},"Tags",-1),Yn=c("hr",{class:"w-1/3 mx-auto"},null,-1),Xn={key:0,class:"p-2 flex flex-wrap justify-center items-center gap-4"},Fn=c("span",null,"Prev Article",-1),qn=c("span",null,"Next Article",-1),Vn={key:1,class:"p-2 tags-container flex sm:flex-wrap justify-start sm:justify-center items-center overflow-x-auto gap-2"},Un={key:1,class:"container lg:max-w-4xl mx-auto px-6 md:px-12 py-4 grid grid-cols-1 sm:grid-cols-2 gap-4"},Zn={class:"flex items-center gap-1"},Gn={class:"flex flex-col gap-2"},Kn=c("p",{class:"text-lg font-bold"}," Previous Article ",-1),Qn={key:0,class:"text-xs opacity-80"},Jn={class:"flex items-center gap-1"},ea={class:"flex flex-col gap-2"},ta=c("p",{class:"text-lg font-bold text-end"}," Next Article ",-1),oa={key:0,class:"text-xs opacity-80 text-end"},na=xe({__name:"MarkdownPost",props:{data:null},async setup(o){var m,O,V,ue,ee,Z,J;let e,r;const n=o,i=Ve(),u=rt(),d=D("");if(n.data._path){const b=n.data._path.split("/");b.length>3&&b[1]==="article"&&(d.value=b[2])}let v=!0;v=i.basic.articlePage.showTime,"showTime"in n.data&&(v=n.data.showTime);let $=!0;$=i.basic.articlePage.outdated.show,"showOutdatedWarning"in n.data&&($=n.data.showOutdatedWarning);const l=D(""),p=D(""),k=D(""),x=D(""),C=D([]),a=ie("showSeriesModal");if((m=n.data)!=null&&m.series){const{data:b}=([e,r]=lt(()=>ut(`${n.data.series}-series`,()=>st("article").where({series:n.data.series}).only(["title","description","_path","_type","seriesOrder"]).sort({seriesOrder:1,$numeric:!0}).find())),e=await e,r(),e);if(C.value=b.value,b.value&&b.value.length>1){const H=b.value.findIndex(Y=>u.path===Y._path);H!==-1&&(H===0?(x.value=b.value[H+1].title,k.value=b.value[H+1]._path):H===b.value.length-1?(p.value=b.value[H-1].title,l.value=b.value[H-1]._path):(x.value=b.value[H+1].title,k.value=b.value[H+1]._path,p.value=b.value[H-1].title,l.value=b.value[H-1]._path))}}(O=n.data)!=null&&O.prevArticleUrl&&(l.value=n.data.prevArticleUrl),(V=n.data)!=null&&V.prevArticleName&&(p.value=n.data.prevArticleName),(ue=n.data)!=null&&ue.nextArticleUrl&&(k.value=n.data.nextArticleUrl),(ee=n.data)!=null&&ee.nextArticleName&&(x.value=n.data.nextArticleName);const E=D(!0),T=Pt(),f=ie("showCatalog"),I=D(),X=D(),W=D(),R=D(),N=D();me("activeH2Heading",I),me("activeH3Heading",X),me("activeH4Heading",W),me("activeH5Heading",R),me("activeH6Heading",N);function U(b){var Y;const H=(Y=b==null?void 0:b.dataset)==null?void 0:Y.headingPath;if(H){const te=JSON.parse(H);I.value=te.h2,X.value=te.h3,W.value=te.h4,R.value=te.h5,N.value=te.h6}}let Q;const M=D(null);ye(()=>{if(M.value){const b=M.value.querySelectorAll("h2, h3, h4, h5, h6");Q=new IntersectionObserver(H=>{H.forEach(Y=>{const te=Y.target,ge=te.id;if(Y.intersectionRatio>0)U(te);else if(Y.boundingClientRect.y>0){let he;for(let fe=0;fe<b.length;fe++)if(b[fe].id===ge){he=fe;break}if(he&&he-1>=0){const fe=b[he-1];U(fe)}}})}),b.length>0&&b.forEach(H=>{Q.observe(H)})}}),Xe(()=>{Q&&Q.disconnect()});const z=[],ae=b=>{b.children&&(z.push(b.id),b.children.forEach(H=>{ae(H)}))};(J=(Z=n.data)==null?void 0:Z.body)!=null&&J.toc&&n.data.body.toc.links.length>0&&n.data.body.toc.links.forEach(b=>{ae(b)});const F=ie("syncCatalogToggleState",()=>!1),re=D(new Set);Xe(()=>{re.value.clear()});const s=b=>{re.value.add(b)},w=b=>{re.value.delete(b)},h=()=>{re.value.clear()},g=()=>{re.value=new Set(z)};me("collapsedHeadingsSet",re),me("collapseHeadingHandler",s),me("collapseAllHeadingsHandler",g),me("expandHeadingHandler",w),me("expandAllHeadingsHandler",h);const y=D(null),P=b=>{b.forEach(H=>{H.addEventListener("click",Y=>{var te;if(Y.stopPropagation(),F.value){const ge=Y.currentTarget,he=(te=ge==null?void 0:ge.dataset)==null?void 0:te.headingId;he&&z.includes(he)&&(Y.preventDefault(),ge.open?s(he):w(he))}})})};return ye(()=>{M.value&&(y.value=M.value.querySelectorAll("details"),y.value&&y.value.length>0&&P(y.value))}),He([re,F],()=>{F.value&&y.value&&y.value.length>0&&y.value.forEach(b=>{var Y;const H=(Y=b==null?void 0:b.dataset)==null?void 0:Y.headingId;H&&re.value.has(H)?b.removeAttribute("open"):b.setAttribute("open","true")})},{deep:!0,immediate:!0}),(b,H)=>{var B,oe,q;const Y=be,te=ot,ge=ko,he=xt,fe=$o,Ie=ln,Ae=_n,L=Ln;return _(),j("div",{ref_key:"articleDOM",ref:M,class:"markdown-post"},[n.data.cover?(_(),j("div",{key:0,class:"my-4 w-full h-60 lg:h-72 xl:h-80 bg-cover bg-center bg-no-repeat",style:Le(`background-image: url('${n.data.cover}')`)},null,4)):G("",!0),c("div",Mn,[c("h1",Sn,ne(n.data.title||"Article"),1),c("div",In,[t(d)?(_(),se(te,{key:0,to:{path:"/list",query:{theme:t(d)}},target:"_blank",class:"p-2 flex items-center gap-1 text-gray-300 hover:text-white hover:bg-purple-500 focus:outline-purple-500 focus:outline-none rounded transition-colors duration-300"},{default:K(()=>[S(Y,{name:"material-symbols:category-rounded",class:"shrink-0 w-4 h-4"}),c("span",An,ne(t(d)),1)]),_:1},8,["to"])):G("",!0),t(v)?(_(),j("div",Bn,[n.data.created||n.data.git_time_created?(_(),j("div",Dn,[S(Y,{name:"mdi:pencil-circle",class:"w-4 h-4"}),c("span",jn,"Created "+ne(new Date(n.data.created||n.data.git_time_created).toLocaleDateString()),1)])):G("",!0),n.data.updated||n.data.git_time_updated?(_(),j("div",En,[S(Y,{name:"mdi:clock",class:"w-4 h-4"}),c("span",Wn,"Updated "+ne(new Date(n.data.updated||n.data.git_time_updated).toLocaleDateString()),1)])):G("",!0)])):G("",!0),c("div",Nn,[n.data.series?(_(),j("button",{key:0,class:"p-2 flex items-center gap-1 text-gray-300 hover:text-white hover:bg-green-500 focus:outline-none rounded transition-colors duration-300",onClick:H[0]||(H[0]=le=>a.value=!0)},[S(Y,{name:"bi:collection",class:"shrink-0 w-4 h-4"}),c("span",Rn,ne(n.data.series),1)])):G("",!0),n.data.tags?(_(),j("button",{key:1,class:A(["p-2 hidden sm:flex items-center gap-1 focus:outline-blue-500 rounded transition-colors duration-300",t(E)?"bg-blue-500 hover:bg-blue-400 text-white":"text-gray-300 hover:text-white hover:bg-blue-500 "]),onClick:H[1]||(H[1]=le=>E.value=!t(E))},[S(Y,{name:"bi:collection",class:"shrink-0 w-4 h-4"}),On],2)):G("",!0)])]),S(he,null,{default:K(()=>[t(v)&&t($)&&(n.data.updated||n.data.created)?(_(),se(ge,{key:0,date:n.data.updated||n.data.created,type:n.data.updated?"last updated":"created"},null,8,["date","type"])):G("",!0)]),_:1}),Yn,t(l)||t(k)?(_(),j("div",Xn,[t(l)?(_(),se(te,{key:0,to:t(l),class:"p-2 flex items-center gap-1 text-xs text-gray-300 hover:text-white hover:bg-green-500 focus:outline-none rounded transition-colors duration-300"},{default:K(()=>[S(Y,{name:"ic:round-keyboard-arrow-left",class:"w-4 h-4"}),Fn]),_:1},8,["to"])):G("",!0),t(k)?(_(),se(te,{key:1,to:t(k),class:"p-2 flex items-center gap-1 text-xs text-gray-300 hover:text-white hover:bg-green-500 focus:outline-none rounded transition-colors duration-300"},{default:K(()=>[qn,S(Y,{name:"ic:round-keyboard-arrow-right",class:"w-4 h-4"})]),_:1},8,["to"])):G("",!0)])):G("",!0),n.data.tags&&n.data.tags.length>0?de((_(),j("div",Vn,[(_(!0),j(Ce,null,$e(n.data.tags,le=>(_(),se(te,{key:le,to:{path:"/list",query:{tags:[le]}},target:"_blank",class:"px-2 py-1 text-xs text-gray-300 hover:text-white hover:bg-blue-500 rounded focus:outline-blue-500 transition-colors duration-300"},{default:K(()=>[Ee(" #"+ne(le),1)]),_:2},1032,["to"]))),128))],512)),[[pe,t(E)]]):G("",!0)]),S(fe,{data:n.data},null,8,["data"]),t(l)||t(k)?(_(),j("div",Un,[t(l)?(_(),se(te,{key:0,to:t(l),class:"px-4 py-6 flex justify-start items-center text-gray-600 hover:text-white hover:bg-green-500 border border-gray-400 hover:border-green-500 focus:outline-none rounded-lg transition-colors duration-300"},{default:K(()=>[c("div",Zn,[S(Y,{name:"ic:round-keyboard-arrow-left",class:"shrink-0 w-8 h-8 opacity-70"}),c("div",Gn,[Kn,t(p)?(_(),j("p",Qn,ne(t(p)),1)):G("",!0)])])]),_:1},8,["to"])):G("",!0),t(k)?(_(),se(te,{key:1,to:t(k),class:"px-4 py-6 flex justify-end items-center text-gray-600 hover:text-white hover:bg-green-500 border border-gray-400 hover:border-green-500 focus:outline-none rounded-lg transition-colors duration-300"},{default:K(()=>[c("div",Jn,[c("div",ea,[ta,t(x)?(_(),j("p",oa,ne(t(x)),1)):G("",!0)]),S(Y,{name:"ic:round-keyboard-arrow-right",class:"shrink-0 w-8 h-8 opacity-70"})])]),_:1},8,["to"])):G("",!0)])):G("",!0),(oe=(B=n.data)==null?void 0:B.body)!=null&&oe.toc&&n.data.body.toc.links.length>0?de((_(),se(Ie,{key:2,catalogs:n.data.body.toc.links},null,8,["catalogs"])),[[pe,t(f)]]):G("",!0),(_(),se(De,{to:"body"},[S(ke,{"enter-from-class":"translate-x-10","enter-active-class":"transition-transform duration-500 ease","enter-to-class":"translate-x-0","leave-from-class":"translate-x-0","leave-active-class":"transition-transform duration-75 ease","leave-to-class":"translate-x-10"},{default:K(()=>{var le,ze;return[(ze=(le=n.data)==null?void 0:le.body)!=null&&ze.toc&&n.data.body.toc.links.length>0?de((_(),j("button",{key:0,class:A(["p-2 hidden sm:flex justify-center items-center fixed bottom-16 right-4 z-40 border transition-colors duration-300 rounded-lg",t(f)?"text-purple-500 bg-purple-100 hover:bg-purple-50 border-purple-200":"text-gray-500 bg-white hover:bg-gray-100 border-gray-200"]),onClick:H[2]||(H[2]=Te=>f.value=!t(f))},[S(Y,{name:"entypo:list",class:"w-5 h-5"})],2)),[[pe,t(T)>100]]):G("",!0)]}),_:1})])),(_(),se(De,{to:"body"},[(q=o.data)!=null&&q.series&&t(C).length>0&&t(a)?(_(),se(Ae,{key:0,"current-path":o.data._path,"series-name":o.data.series,"series-list":t(C)},null,8,["current-path","series-name","series-list"])):G("",!0)])),(_(),se(De,{to:"body"},[S(L)]))],512)}}});const aa={key:1,class:"container mx-auto"},ra={class:"json-content-container max-h-[calc(100vh*0.8)] m-6 p-4 border rounded-lg overflow-auto"},la={class:"flex flex-col justify-center items-center gap-1"},sa=c("p",{class:"text-xs"}," Catalog ",-1),ka=xe({__name:"[...slug]",async setup(o){let e,r;const n=Ve(),i=rt(),{data:u,pending:d}=([e,r]=lt(()=>ut(`${i.path}`,()=>st(i.path).findOne())),e=await e,r(),e),v=ie("showCatalog",()=>n.basic.articlePage.showCatalog),$=ie("showFooterNavMoreOptions"),l=ie("showFooterNavThemeOptions");return(p,k)=>{var f,I,X,W,R,N,U,Q;const x=pt,C=ht,a=be,E=na,T=vt;return _(),j("div",null,[S(C,null,{default:K(()=>[S(x,null,{default:K(()=>{var M;return[Ee(ne(((M=t(u))==null?void 0:M.title)||"Article"),1)]}),_:1})]),_:1}),S(T,{name:"base","footer-catalog":((I=(f=t(u))==null?void 0:f.body)==null?void 0:I.toc)&&t(u).body.toc.links.length>0},mt({default:K(()=>{var M;return[!t(d)&&((M=t(u))==null?void 0:M._type)==="markdown"?(_(),se(E,{key:0,data:t(u),class:"container mx-auto px-6 md:px-12 py-12 lg:max-w-4xl"},null,8,["data"])):!t(d)&&t(u)&&(t(u)._type==="json"||t(u)._type==="csv")?(_(),j("div",aa,[c("div",ra,[c("pre",null,ne(t(u)),1)])])):G("",!0)]}),_:2},[!t(d)&&((X=t(u))==null?void 0:X._type)==="markdown"&&((R=(W=t(u))==null?void 0:W.body)!=null&&R.toc)&&t(u).body.toc.links.length>0?{name:"header-nav-right",fn:K(()=>[c("button",{title:"toggle catalog show or hide",class:A(["w-10 h-10 flex justify-center items-center border rounded-md transition-colors duration-300",t(v)?"text-purple-500 bg-purple-100 hover:bg-purple-50 border-purple-200":"text-gray-500 bg-white hover:bg-gray-100 border-gray-200"]),onClick:k[0]||(k[0]=M=>v.value=!t(v))},[S(a,{name:"entypo:list",class:"w-5 h-5"})],2)]),key:"0"}:void 0,!t(d)&&((N=t(u))==null?void 0:N._type)==="markdown"&&((Q=(U=t(u))==null?void 0:U.body)!=null&&Q.toc)&&t(u).body.toc.links.length>0?{name:"footer-nav-right",fn:K(()=>[de(c("button",{class:A(["grow px-2 py-3 flex justify-center items-center space-y-1 bg-gray-50",t(v)?"text-purple-500":"text-gray-500"]),onClick:k[1]||(k[1]=M=>v.value=!t(v))},[c("div",la,[S(a,{name:"entypo:list",class:"w-6 h-6"}),sa])],2),[[pe,!t($)&&!t(l)]])]),key:"1"}:void 0]),1032,["footer-catalog"])])}}});export{ka as default};
